class SelectBox {
    constructor() {
        this.getNodes(), this.addEventListeners()
    }
    getNodes() {
        this.title = document.querySelector(".selectbox-title"), this.links = Array.from(document.querySelectorAll(".selectbox-link")), this.resultNodes = Array.from(document.querySelectorAll(".selectbox-result")), this.cardNode = document.querySelector(".accordion-select .card")
    }
    addEventListeners() {
        this.links.map(e => e.addEventListener("click", this.changeContent.bind(this)))
    }
    changeContent(e) {
        e.preventDefault();
        const t = e.target.closest("a"),
            s = t.cloneNode(!0);
        s.querySelector("span").remove();
        const o = this.title.lastChild.cloneNode(!0);
        this.title.innerHTML = s.textContent, this.title.appendChild(o), this.title.click();
        const n = this.links.indexOf(t);
        this.showResult(n)
    }
    showResult(e) {
        this.resultNodes.map(e => e.classList.remove("selectbox-result-show")), this.resultNodes[e].classList.add("selectbox-result-show"), this.cardNode.classList.add("card-selected")
    }
}
const selectBox = new SelectBox;
$(document).ready(function() {
    $(".search").keyup(function() {
        var e = $(".search").val(),
            t = ($(".results tbody").children("tr"), e.replace(/ /g, "'):containsi('"));
        $.extend($.expr[":"], {
            containsi: function(e, t, s, o) {
                return (e.textContent || e.innerText || "").toLowerCase().indexOf((s[3] || "").toLowerCase()) >= 0
            }
        }), $(".results tbody tr").not(":containsi('" + t + "')").each(function(e) {
            $(this).attr("visible", "false")
        }), $(".results tbody tr:containsi('" + t + "')").each(function(e) {
            $(this).attr("visible", "true")
        });
        var s = $('.results tbody tr[visible="true"]').length;
        $(".counter").text(s + " item"), "0" == s ? $(".no-result").show() : $(".no-result").hide()
    })
});